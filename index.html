<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Model Release Timeline - 2016-2025</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"> <!-- For icons -->
  <style>
    :root {
      --primary-color: #5568FE;
      --secondary-color: #6FC2FF;
      --background-color: #f9fafb;
      --card-background: #ffffff;
      --text-color: #1f2937;
      --muted-text-color: #6b7280;
      
      --open-source-bg: #ecfdf5;
      --open-source-border: #10b981;
      --api-only-bg: #fee2e2;
      --api-only-border: #ef4444;

      --special-color: #f59e0b;
      --link-color: #3b82f6;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--background-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .hero-section {
      text-align: center;
      padding: 50px 20px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border-radius: 16px;
      margin-bottom: 40px;
      box-shadow: 0 10px 30px rgba(85, 104, 254, 0.2);
    }
    .hero-section h1 {
      margin: 0;
      font-size: 2.5em;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .hero-section p {
      font-size: 1.1em;
      color: rgba(255, 255, 255, 0.9);
      max-width: 600px;
      margin: 10px auto 0 auto;
    }

    .filter-controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      padding: 15px 20px;
      gap: 25px;
      background-color: var(--card-background);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      margin-bottom: 20px;
    }
    .filter-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .filter-group label {
      font-weight: 500;
      font-size: 0.9em;
      color: var(--text-color);
    }
    #year-filter-buttons .toggle-button {
        margin: 0 3px;
    }
    select, .toggle-button {
      padding: 8px 15px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      font-size: 0.85em;
      font-family: 'Poppins', sans-serif;
      cursor: pointer;
      transition: all 0.2s ease;
      background-color: #f9fafb;
    }
    select:focus, .toggle-button:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(85, 104, 254, 0.2);
    }
    .toggle-button {
      background-color: var(--card-background);
      color: var(--muted-text-color);
      border: 1px solid #e5e7eb;
      font-weight: 500;
    }
    .toggle-button:hover {
        background-color: #f3f4f6;
        border-color: #d1d5db;
    }
    .toggle-button.active {
      color: white;
      border: 1px solid transparent;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .toggle-button.open-source.active { background-color: var(--open-source-border); border-color: var(--open-source-border); }
    .toggle-button.api-only.active { background-color: var(--api-only-border); border-color: var(--api-only-border); }
    .toggle-button.show-all.active { background-color: var(--primary-color); border-color: var(--primary-color); }
    .toggle-button.year-btn.active { background-color: var(--primary-color); border-color: var(--primary-color); }

    .category-filters {
        display: flex;
        justify-content: center;
        margin-bottom: 30px;
        gap: 10px;
        flex-wrap: wrap;
    }
    .category-filters .toggle-button {
        padding: 10px 20px;
        border-radius: 50px; /* Pill shape */
    }

    .counter-container {
      text-align: center;
      padding: 15px;
      margin: 0 auto 40px auto;
      max-width: 500px;
      font-weight: 500;
    }
    .counter-container span { margin: 0 8px; }
    .counter-container .count {
        font-size: 1.4em;
        font-weight: 700;
    }
    .counter-container .open-source-count { color: var(--open-source-border); }
    .counter-container .api-only-count { color: var(--api-only-border); }

    .timeline {
      position: relative;
      list-style: none;
      margin: 0;
      padding-left: 10px;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(to top, #e5e7eb, #d1d5db);
      border-radius: 2px;
      z-index: 1;
    }

    .timeline-year {
      position: relative;
      margin-bottom: 50px;
    }

    .timeline-year h2 {
      position: sticky;
      top: 10px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 1.6em;
      margin-left: 30px;
      margin-bottom: 30px;
      z-index: 10;
      box-shadow: 0 8px 20px rgba(85, 104, 254, 0.2);
    }

    .timeline-month {
      position: relative;
      margin-bottom: 30px;
      padding-left: 30px;
    }

    .timeline-month h3 {
      position: sticky;
      top: 90px;
      background-color: rgba(249, 250, 251, 0.8);
      backdrop-filter: blur(8px);
      color: var(--primary-color);
      font-size: 1.2em;
      font-weight: 600;
      padding: 8px 15px;
      margin-bottom: 20px;
      z-index: 5;
      display: inline-block;
      border-radius: 8px;
    }

    .timeline-item {
      position: relative;
      padding-left: 30px;
      margin-bottom: 25px;
      z-index: 2;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -8px;
      top: 12px;
      width: 18px;
      height: 18px;
      background-color: var(--card-background);
      border: 4px solid var(--secondary-color);
      border-radius: 50%;
      z-index: 3;
      transition: transform 0.2s ease;
    }
    
    .timeline-item[data-special="true"]::after {
      content: 'â˜…';
      position: absolute;
      left: -19px;
      top: -3px;
      color: var(--special-color);
      font-size: 24px;
      z-index: 4;
      text-shadow: 0 0 10px rgba(245, 158, 11, 0.7);
    }

    .timeline-item.open-source::before { border-color: var(--open-source-border); }
    .timeline-item.api-only::before { border-color: var(--api-only-border); }

    .event-card {
      background-color: var(--card-background);
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
      transition: all 0.3s cubic-bezier(.25,.8,.25,1);
      position: relative;
      border: 1px solid #e5e7eb;
    }
    .timeline-item.open-source .event-card { border-color: var(--open-source-border); background-color: var(--open-source-bg);}
    .timeline-item.api-only .event-card { border-color: var(--api-only-border); background-color: var(--api-only-bg); }

    .event-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.07);
    }
    .timeline-item:hover::before {
        transform: scale(1.2);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }
    
    .card-title-group {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-grow: 1; 
      min-width: 0;
    }

    .card-title-group h4 {
      margin: 0;
      font-size: 1.05em;
      font-weight: 600;
      color: var(--text-color);
    }
    
    .event-card p {
      margin: 5px 0 0 0;
      font-size: 0.9em;
      color: var(--muted-text-color);
    }

    .card-header .tag {
      padding: 4px 10px;
      font-size: 0.75em;
      font-weight: 600;
      border-radius: 50px;
      color: white;
      white-space: nowrap;
      flex-shrink: 0;
    }
    .card-header .tag.open-source-tag { background-color: var(--open-source-border); }
    .card-header .tag.api-only-tag { background-color: var(--api-only-border); }

    .event-links-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid rgba(0,0,0,0.05);
    }

    .event-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 0.8em;
        font-weight: 500;
        color: var(--link-color);
        text-decoration: none;
        white-space: nowrap;
        background-color: rgba(59, 130, 246, 0.1);
        padding: 4px 10px;
        border-radius: 50px;
        transition: all 0.2s ease;
    }
    .event-link i {
        font-size: 0.9em;
    }
    .event-link:hover {
        text-decoration: none;
        background-color: rgba(59, 130, 246, 0.2);
        color: #2563eb;
    }

    .github-link {
      text-align: center;
      padding: 12px;
      background-color: #374151; /* Dark Gray */
      color: #e5e7eb;
      font-size: 1em;
      margin-bottom: 30px;
    }
    .github-link a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }
    .github-link a:hover {
      color: var(--secondary-color);
    }

    @media (max-width: 768px) {
      .container { padding: 15px; }
      .hero-section h1 { font-size: 2em; }
      .timeline::before { left: 5px; }
      .timeline-item { padding-left: 20px; }
      .timeline-item::before { left: -9px; }
      .timeline-item[data-special="true"]::after { font-size: 22px; left: -18px; }
      .timeline-year h2 { margin-left: 20px; font-size: 1.4em; }
      .timeline-month { padding-left: 20px; }
      .timeline-month h3 { top: 80px; font-size: 1.1em; }
    }
    @media (max-width: 480px) {
      .hero-section { padding: 40px 15px; border-radius: 12px; }
      .hero-section h1 { font-size: 1.8em; }
      .filter-controls { flex-direction: column; gap: 15px; }
      .filter-group { flex-direction: column; align-items: stretch; width: 100%; text-align: center; }
      select, .toggle-button { width: 100%; text-align: center; justify-content: center; }
      .timeline-year h2 { font-size: 1.3em; margin-left: 10px; }
      .timeline-month { padding-left: 10px; }
      .timeline-month h3 { font-size: 1em; }
      .card-title-group h4 { font-size: 1em; }
      .event-card p { font-size: 0.85em; }
      .card-header .tag { font-size: 0.7em; }
      .event-link { font-size: 0.8em; }
    }

    /* --- DARK MODE STYLES START --- */
    @media (prefers-color-scheme: dark) {
      :root {
        --background-color: #170024;
        --card-background: #1f2937;
        --text-color: #e5e7eb;
        --muted-text-color: #9ca3af;
        
        --open-source-bg: #00291e63;
        --api-only-bg: #3a000024;

        --link-color: #60a5fa;
      }

      select, .toggle-button {
        border-color: #374151;
        background-color: #374151;
        color: var(--text-color);
      }
      .toggle-button:hover {
          background-color: #4b5563;
          border-color: #4b5563;
      }

      /* The separator bar in the counter has an inline style, requiring !important to override */
      .counter-container span[style*="d1d5db"] {
        color: #4b5563 !important;
      }

      .timeline::before {
        background: linear-gradient(to top, #374151, #4b5563);
      }

      .timeline-month h3 {
        background-color: rgba(17, 24, 39, 0.85); /* Dark blur background */
        color: var(--secondary-color);
      }

      .event-card {
        border: 1px solid #374151;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.15);
      }
      .event-card:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.25), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      }
      .timeline-item.open-source .event-card { border-color: var(--open-source-border); }
      .timeline-item.api-only .event-card { border-color: var(--api-only-border); }

      .event-links-container {
          border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
      .event-link {
          background-color: rgba(96, 165, 250, 0.15);
      }
      .event-link:hover {
          background-color: rgba(96, 165, 250, 0.25);
          color: #93c5fd;
      }

      .github-link {
        background-color: #1f2937;
      }
    }
    /* --- DARK MODE STYLES END --- */
  </style>
</head>
<body>

  <div class="github-link">
    <a href="https://github.com/Railfree/Railfree.github.io/" target="_blank">View on GitHub</a>
  </div>
  
  <div class="container">
    <div class="hero-section">
      <h1>AI Model Release Timeline</h1>
      <p>Tracking key advancements in AI models from 2016 to 2025.</p>
    </div>

    <div class="filter-controls">
      <div class="filter-group">
        <label for="year-filter-buttons">Filter by Year:</label>
        <div id="year-filter-buttons">
          <button class="toggle-button year-btn active" onclick="setFilter('year', 'all', this)">All</button>
          <!-- Year buttons will be dynamically generated -->
        </div>
      </div>
      <div class="filter-group">
        <label for="provider-filter">Filter by Provider:</label>
        <select id="provider-filter" onchange="setFilter('provider', this.value, this)">
          <option value="all">All Providers</option>
          <!-- Options will be populated by JS -->
        </select>
      </div>
    </div>

    <div class="category-filters">
      <button class="toggle-button show-all active" onclick="setFilter('category', 'all', this)">Show All</button>
      <button class="toggle-button open-source" onclick="setFilter('category', 'open-source', this)">Open Weights Only</button>
      <button class="toggle-button api-only" onclick="setFilter('category', 'api-only', this)">API Only</button>
    </div>

    <div class="counter-container">
      <span style="font-weight: 500;">Open Weights:</span>
      <span id="open-source-count" class="count open-source-count">0</span>
      <span style="color: #d1d5db; font-size: 1.4em;">|</span>
      <span style="font-weight: 500;">API Only:</span>
      <span id="api-only-count" class="count api-only-count">0</span>
    </div>

    <div id="timeline-container" class="timeline">
      <!-- Timeline content will be generated by JavaScript -->
    </div>
  </div>

<script src="timeline-data.js"></script>
<script>
const filters = {
    category: 'all',
    year: 'all',
    provider: 'all'
};

// --- Filter Logic ---
function setFilter(type, value, element) {
    filters[type] = value;
    
    if (element && element.tagName === 'BUTTON') {
      const parent = element.parentElement;
      parent.querySelectorAll('.toggle-button').forEach(btn => btn.classList.remove('active'));
      element.classList.add('active');
    }
    
    applyFilters();
}

function applyFilters() {
    const events = document.querySelectorAll('.timeline-item');
    let visibleOpenSourceCount = 0;
    let visibleApiOnlyCount = 0;

    events.forEach(event => {
        const eventCategory = event.dataset.category;
        const eventYear = event.dataset.year;
        const eventProvider = event.dataset.provider;

        const categoryMatch = filters.category === 'all' || eventCategory === filters.category;
        const yearMatch = filters.year === 'all' || eventYear === filters.year;
        const providerMatch = filters.provider === 'all' || eventProvider === filters.provider;

        if (categoryMatch && yearMatch && providerMatch) {
            event.style.display = 'block';
            if (eventCategory === 'open-source') visibleOpenSourceCount++;
            if (eventCategory === 'api-only') visibleApiOnlyCount++;
        } else {
            event.style.display = 'none';
        }
    });

    document.querySelectorAll('.timeline-month').forEach(month => {
        const visibleEvents = Array.from(month.querySelectorAll('.timeline-item')).filter(item => item.style.display !== 'none');
        month.style.display = visibleEvents.length > 0 ? 'block' : 'none';
    });
    document.querySelectorAll('.timeline-year').forEach(year => {
        const visibleMonths = Array.from(year.querySelectorAll('.timeline-month')).filter(month => month.style.display !== 'none');
        year.style.display = visibleMonths.length > 0 ? 'block' : 'none';
    });

    updateCounts(visibleOpenSourceCount, visibleApiOnlyCount);
}

function updateCounts(openCount, apiCount) {
    document.getElementById('open-source-count').textContent = openCount;
    document.getElementById('api-only-count').textContent = apiCount;
}

// --- Timeline Generation ---
function populateTimeline() {
    const timelineContainer = document.getElementById('timeline-container');
    const providerFilter = document.getElementById('provider-filter');
    const yearFilterButtons = document.getElementById('year-filter-buttons');
    const providers = new Set();
    const monthOrder = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

    const groupedData = timelineData.reduce((acc, event) => {
        if (!acc[event.year]) acc[event.year] = {};
        if (!acc[event.year][event.month]) acc[event.year][event.month] = [];
        acc[event.year][event.month].push(event);
        if (event.provider) providers.add(event.provider);
        return acc;
    }, {});

    const sortedYears = Object.keys(groupedData).sort((a, b) => a - b);
    sortedYears.forEach(year => {
        const button = document.createElement('button');
        button.classList.add('toggle-button', 'year-btn');
        button.textContent = year;
        button.onclick = () => setFilter('year', year, button);
        yearFilterButtons.appendChild(button);
    });

    let timelineHtml = '';
    sortedYears.forEach(year => {
        timelineHtml += `<div class="timeline-year" data-year="${year}"><h2>${year}</h2>`;
        
        const monthsInYear = Object.keys(groupedData[year]).sort((a, b) => monthOrder.indexOf(a) - monthOrder.indexOf(b));
        
        monthsInYear.forEach(month => {
            timelineHtml += `<div class="timeline-month" data-month="${month}"><h3>${month}</h3>`;
            
            groupedData[year][month].forEach(event => {
                const categoryClass = event.category === 'open-source' ? 'open-source' : 'api-only';
                const tagText = event.category === 'open-source' ? 'Open Weights' : 'API Only';

                const eventLinks = Object.keys(event)
                    .filter(key => key.startsWith('link') && event[key])
                    .sort() // Sorts keys to ensure order (link, link1, link2)
                    .map(key => event[key]); // Get the URL values

                let linksHtml = '';
                if (eventLinks.length > 0) {
                    linksHtml += '<div class="event-links-container">';
                    eventLinks.forEach((link, index) => {
                        // Use a more generic label if there's only one link
                        const linkText = eventLinks.length > 1 ? `Source ${index + 1}` : 'Source';
                        linksHtml += `
                            <a href="${link}" target="_blank" class="event-link" aria-label="${linkText} for ${event.title}">
                                <i class="fas fa-link"></i> ${linkText}
                            </a>
                        `;
                    });
                    linksHtml += '</div>';
                }
                
                timelineHtml += `
                    <div class="timeline-item ${categoryClass}" data-year="${event.year}" data-provider="${event.provider || 'N/A'}" data-category="${event.category}" data-special="${event.special || 'false'}">
                        <div class="event-card">
                            <div class="card-header">
                                <div class="card-title-group">
                                    <h4>${event.title}</h4>
                                </div>
                                <span class="tag ${categoryClass}-tag">${tagText}</span>
                            </div>
                            <p>${event.description}</p>
                            ${linksHtml} 
                        </div>
                    </div>
                `;
            });
            timelineHtml += `</div>`;
        });
        timelineHtml += `</div>`;
    });

    timelineContainer.innerHTML = timelineHtml;

    const sortedProviders = Array.from(providers).sort();
    sortedProviders.forEach(p => {
        const option = document.createElement('option');
        option.value = p;
        option.textContent = p;
        providerFilter.appendChild(option);
    });
}

// --- Initialization ---
document.addEventListener('DOMContentLoaded', () => {
    populateTimeline();
    // Set the initial filter to 'all' and apply it to show all events at start
    setFilter('year', 'all', document.querySelector('#year-filter-buttons .year-btn.active'));
    // applyFilters() is called inside setFilter, so no need to call it again here.
});
</script>
</body>
</html>
